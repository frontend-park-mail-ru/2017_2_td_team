<!doctype html>
<html>
<head>
    <meta charset="utf-8">
    <title>Hello World</title>
</head>
<script src="/js/lib/pixi.min.js"></script>
<script src="/js/lib/tink.js"></script>
<body>

<script type="module" src="/js/game.js"></script>
<script type="text/javascript">
    //    import GameScene from 'js/modules/gameModules/gameScene.js'
    //
    //    let type = 'WebGL';
    //    if (!PIXI.collisions.isWebGLSupported()) {
    //        type = 'canvas';
    //    }
    //
    //    //    PIXI.collisions.sayHello(type);
    //    //
    //    //    const texturesz = 32;
    //    //    const width = window.innerWidth - window.innerWidth % texturesz;
    //    //    const hight = (window.innerHeight - window.innerHeight % texturesz) - texturesz;
    //    //    const hpbar = 150;
    //    //    const gamew = width - texturesz;
    //    //    const gameh = hight - texturesz;
    //    //
    //    //    let renderer = PIXI.autoDetectRenderer(width, hight);
    //    //    let tink = new Tink(PIXI, renderer.view);
    //    //
    //    //    //Add the canvas to the HTML document
    //    //    document.body.appendChild(renderer.view);
    //    //
    //    //    //Create a container object called the `stage`
    //    //    let stage = new PIXI.Container();
    //    //    let titles = new PIXI.Container();
    //    //    let hudelems = new PIXI.Container();
    //    //
    //    //    function getTitle(x, y, titleset) {
    //    //        if ((y % 96 === 0) || (y % 192 >= 96 && x === 0) || (y % 192 <= 96 && x === gamew - 32)) {
    //    //            return titleset['stone.png'];
    //    //        }
    //    //        else {
    //    //            return titleset['grass.png'];
    //    //        }
    //    //    }
    //    //
    //    //    PIXI.loader
    //    //        .add('img/titleset.json')
    //    //        .load(() => {
    //    //            let titelset = PIXI.loader.resources['img/titleset.json'].textures;
    //    //
    //    //            for (let j = 0; j < gameh; j += 32) {
    //    //                for (let i = 0; i < gamew; i += 32) {
    //    //
    //    //                    let grass = getTitle(i, j, titelset);
    //    //                    let grassSprite = new PIXI.Sprite(grass);
    //    //                    grassSprite.position.set(i, j);
    //    //                    titles.addChild(grassSprite);
    //    //                }
    //    //            }
    //    //
    //    //            let rightbar = new PIXI.Graphics();
    //    //            rightbar.beginFill(0x303030);
    //    //            rightbar.lineStyle(1, 0xFFA500, 1);
    //    //            rightbar.drawRect(gamew, 0, width - gamew, gameh);
    //    //            rightbar.endFill();
    //    //
    //    //
    //    //            let lowbar = new PIXI.Graphics();
    //    //            lowbar.beginFill(0x303030);
    //    //            lowbar.lineStyle(1, 0xFFA500, 1);
    //    //            lowbar.drawRect(0, gameh, width, hight - gameh);
    //    //            lowbar.endFill();
    //    //
    //    //            hudelems.addChild(lowbar);
    //    //            hudelems.addChild(rightbar);
    //    //
    //    //            let mcs = new PIXI.Sprite(titelset['spawn.png']);
    //    //            let f = new PIXI.Sprite(titelset['spawn.png']);
    //    //            let hts = new PIXI.Sprite(titelset['heart.png']);
    //    //            let coin = new PIXI.Sprite(titelset['coin.png']);
    //    //            f.position.set(gamew - 32, gameh - 32);
    //    //            coin.position.set(hpbar + 80, gameh + 1);
    //    //            hts.position.set(hpbar, gameh + 1);
    //    //
    //    //            let towers = [
    //    //                new PIXI.Sprite(titelset['bluetower.png']),
    //    //                new PIXI.Sprite(titelset['redtower.png']),
    //    //                new PIXI.Sprite(titelset['otower.png'])
    //    //            ];
    //    //
    //    //
    //    //            towers[0].position.set(gamew, 0);
    //    //
    //    //            towers[1].position.set( gamew, 32);
    //    //            towers[2].position.set( gamew, 64);
    //    //            let sc = new PIXI.Text('Scores: 0');
    //    //            sc.x = 0;
    //    //            sc.y = gameh + 1;
    //    //
    //    //            let hp = new PIXI.Text('100');
    //    //            hp.x = hpbar + 32;
    //    //            hp.y = gameh + 1;
    //    //            let money = new PIXI.Text('0');
    //    //            money.x = hpbar + 112;
    //    //            money.y = gameh + 1;
    //    //            titles.addChild(mcs);
    //    //            titles.addChild(f);
    //    //
    //    //            stage.addChild(titles);
    //    //            stage.addChild(hudelems);
    //    //            stage.addChild(coin);
    //    //            stage.addChild(hts);
    //    //            stage.addChild(hp);
    //    //            stage.addChild(sc);
    //    //            stage.addChild(money);
    //    //            let p = tink.makePointer();
    //    //            towers.forEach(towers =>{tink.makeDraggable(towers); stage.addChild(towers)});
    //
    //    function getTitle(x, y) {
    //        if ((y % 96 === 0) || (y % 192 >= 96 && x === 0) || (y % 192 <= 96 && x === (64*32 - 32))) {
    //            return 0;
    //        }
    //        else {
    //            return 1;
    //        }
    //    }
    //
    //    const gamectx = {
    //        map: []
    //    };
    //
    //    for (let i = 0; i < 48; ++i) {
    //        gamectx.map.push([]);
    //        for (let j = 0; j < 64; ++j) {
    //          gamectx.map[i].push(getTitle(j * 32, i * 32));
    //        }
    //    }
    //    const tm = new Map(
    //        [0, 'img/stone.png'],
    //        [1, 'img/grass.png'],
    //    );
    //
    //    const gs = new GameScene(document.body,32, tm, gamectx);
    //
    //    const gl = () => {
    //        console.log('tick');
    //        requestAnimationFrame(gl);
    //        gs.render();
    //    };
    //
    //    gs.prepare()
    //        .then(gl);
    //

</script>
</body>
</html>
